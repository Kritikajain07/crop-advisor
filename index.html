<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ğŸŒ¾ Crop Advisor</title>
  <style>
    :root {
      --brand: #2f6d2f; --brand-dark: #255425; --accent: #ff7043;
      --bg-top: #f0fdf4; --bg-bottom: #ffffff;
      --text: #1f2937; --muted: #6b7280; --card: #ffffff;
    }
    body { margin:0; font-family:system-ui; background:linear-gradient(to bottom,var(--bg-top),var(--bg-bottom)); }
    header { text-align:center; padding:32px 16px; }
    header h1 { margin:0; font-size:28px; color:var(--brand); }
    header p { color:var(--muted); margin-top:8px; }
    .form-container { max-width:900px; margin:16px auto; background:#fff; padding:20px; border-radius:16px; box-shadow:0 6px 12px rgba(0,0,0,.1);}
    .grid { display:grid; gap:12px; grid-template-columns:repeat(12,1fr);}
    .col-6 { grid-column:span 6;} .col-3 {grid-column:span 3;} .col-12{grid-column:span 12;}
    @media(max-width:768px){.col-6,.col-3{grid-column:span 12;}}
    label{font-weight:600;font-size:14px;}
    input,select{width:100%;padding:10px;border:1px solid #ccc;border-radius:8px;}
    button{padding:10px 14px;border:none;border-radius:8px;cursor:pointer;font-weight:600;transition:0.2s;}
    .btn-primary{background:var(--brand);color:#fff;}
    .btn-primary:hover{background:var(--brand-dark);}
    .btn-mic{background:var(--accent);color:#fff;}
    .btn-mic:hover{opacity:0.9;}
    .results{max-width:1000px;margin:24px auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px;}
    .card{background:#fff;padding:16px;border-radius:16px;box-shadow:0 4px 10px rgba(0,0,0,.1);text-align:center;}
    .card h2{color:var(--brand);margin-bottom:8px;}
    footer{background:var(--brand);color:#fff;text-align:center;padding:16px;margin-top:30px;}
    .input-group{display:flex;gap:8px;align-items:center;}
    .input-group input{flex:1;}
  </style>
</head>
<body>
  <header>
    <div style="display:flex;justify-content:center;align-items:center;gap:10px;">
      <!-- Inline SVG Leaf Logo -->
      <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="#2f6d2f" viewBox="0 0 24 24">
        <path d="M12 2C8 6 4 10 4 15c0 5 4 7 8 7s8-2 8-7c0-5-4-9-8-13z"/>
      </svg>
      <h1>Crop Advisor</h1>
    </div>
    <p>Smart Crop Recommendation with Voice & GPS</p>
  </header>

  <section class="form-container">
    <form class="grid">
      <div class="col-6">
        <label for="location">Location</label>
        <div class="input-group">
          <input id="location" type="text" placeholder="City, District or Pincode">
          <button type="button" class="btn-mic" onclick="startListening('location')">ğŸ™</button>
          <button type="button" id="btnGPS">ğŸ“</button>
        </div>
      </div>
      <div class="col-6">
        <label>Soil type</label>
        <div class="input-group">
          <input id="soil" type="text">
          <button type="button" class="btn-mic" onclick="startListening('soil')">ğŸ™</button>
        </div>
      </div>
      <div class="col-3">
        <label>Nitrogen (N)</label>
        <div class="input-group">
          <input id="n" type="number">
          <button type="button" class="btn-mic" onclick="startListening('n')">ğŸ™</button>
        </div>
      </div>
      <div class="col-3">
        <label>Phosphorus (P)</label>
        <div class="input-group">
          <input id="p" type="number">
          <button type="button" class="btn-mic" onclick="startListening('p')">ğŸ™</button>
        </div>
      </div>
      <div class="col-3">
        <label>Potassium (K)</label>
        <div class="input-group">
          <input id="k" type="number">
          <button type="button" class="btn-mic" onclick="startListening('k')">ğŸ™</button>
        </div>
      </div>
      <div class="col-3">
        <label>pH</label>
        <div class="input-group">
          <input id="ph" type="number">
          <button type="button" class="btn-mic" onclick="startListening('ph')">ğŸ™</button>
        </div>
      </div>
      <div class="col-6">
        <label>Temperature (Â°C)</label>
        <div class="input-group">
          <input id="temperature" type="number">
          <button type="button" class="btn-mic" onclick="startListening('temperature')">ğŸ™</button>
        </div>
      </div>
      <div class="col-6">
        <label>Humidity (%)</label>
        <div class="input-group">
          <input id="humidity" type="number">
          <button type="button" class="btn-mic" onclick="startListening('humidity')">ğŸ™</button>
        </div>
      </div>
      <div class="col-6">
        <label>Language</label>
        <select id="language">
          <option value="en-IN" selected>English</option>
          <option value="hi-IN">Hindi</option>
          <option value="mr-IN">Marathi</option>
          <option value="gu-IN">Gujarati</option>
          <option value="ta-IN">Tamil</option>
          <option value="te-IN">Telugu</option>
          <option value="bn-IN">Bengali</option>
          <option value="kn-IN">Kannada</option>
          <option value="ml-IN">Malayalam</option>
          <option value="pa-IN">Punjabi</option>
        </select>
      </div>
      <div class="col-12">
        <button type="button" class="btn-primary" id="btnRecommend">Recommend</button>
        <span id="status"></span>
      </div>
    </form>
  </section>

  <section class="results" id="results"></section>
  <footer>Â© <span id="year"></span> Crop Advisor â€” Smart Agriculture Project</footer>

<script>
const resultsEl=document.getElementById("results");
const statusEl=document.getElementById("status");
const gpsBtn=document.getElementById("btnGPS");

const DUMMY_CROPS=[
 {name:"Wheat",yield:"3.2 tons/acre",price:"â‚¹2200/q",water:"Medium"},
 {name:"Chickpea",yield:"2.5 tons/acre",price:"â‚¹4800/q",water:"Low"},
 {name:"Mustard",yield:"2.8 tons/acre",price:"â‚¹5600/q",water:"Low"}
];

const TRANSLATIONS={
 "hi-IN":{Wheat:"à¤—à¥‡à¤¹à¥‚à¤‚",Chickpea:"à¤šà¤¨à¤¾",Mustard:"à¤¸à¤°à¤¸à¥‹à¤‚","Expected yield":"à¤‰à¤ªà¤œ","Market price":"à¤¬à¤¾à¤œà¤¼à¤¾à¤° à¤®à¥‚à¤²à¥à¤¯","Water need":"à¤ªà¤¾à¤¨à¥€ à¤•à¥€ à¤†à¤µà¤¶à¥à¤¯à¤•à¤¤à¤¾",High:"à¤‰à¤šà¥à¤š",Medium:"à¤®à¤§à¥à¤¯à¤®",Low:"à¤•à¤®"},
 "mr-IN":{Wheat:"à¤—à¤¹à¥‚",Chickpea:"à¤¹à¤°à¤­à¤°à¤¾",Mustard:"à¤®à¥‹à¤¹à¤°à¥€","Expected yield":"à¤‰à¤¤à¥à¤ªà¤¨à¥à¤¨","Market price":"à¤¬à¤¾à¤œà¤¾à¤°à¤­à¤¾à¤µ","Water need":"à¤ªà¤¾à¤£à¥à¤¯à¤¾à¤šà¥€ à¤—à¤°à¤œ",High:"à¤œà¤¾à¤¸à¥à¤¤",Medium:"à¤®à¤§à¥à¤¯à¤®",Low:"à¤•à¤®à¥€"},
 "gu-IN":{Wheat:"àª—àª¹à«àª‚",Chickpea:"àªšàª£àª¾",Mustard:"àª¸àª°àª¸à«‹","Expected yield":"àª‰àª¤à«àªªàª¾àª¦àª¨","Market price":"àª¬àªœàª¾àª° àª­àª¾àªµ","Water need":"àªªàª¾àª£à«€àª¨à«€ àªœàª°à«‚àª°",High:"àª‰àªšà«àªš",Medium:"àª®àª§à«àª¯àª®",Low:"àª“àª›à«àª‚"},
 "ta-IN":{Wheat:"à®•à¯‹à®¤à¯à®®à¯ˆ",Chickpea:"à®•à¯Šà®£à¯à®Ÿà¯ˆà®•à¯à®•à®Ÿà®²à¯ˆ",Mustard:"à®•à®Ÿà¯à®•à¯","Expected yield":"à®®à¯à®©à¯à®©à®±à®¿à®µà®¿à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿ à®µà®¿à®³à¯ˆà®šà¯à®šà®²à¯","Market price":"à®šà®¨à¯à®¤à¯ˆ à®µà®¿à®²à¯ˆ","Water need":"à®¤à®£à¯à®£à¯€à®°à¯ à®¤à¯‡à®µà¯ˆ",High:"à®…à®¤à®¿à®•à®®à¯",Medium:"à®¨à®Ÿà¯à®¤à¯à®¤à®°",Low:"à®•à¯à®±à¯ˆà®µà¯"},
 "te-IN":{Wheat:"à°—à±‹à°§à±à°®",Chickpea:"à°¸à±†à°¨à°—à°²à±",Mustard:"à°†à°µà°¾à°²à±","Expected yield":"à°…à°‚à°šà°¨à°¾ à°¦à°¿à°—à±à°¬à°¡à°¿","Market price":"à°®à°¾à°°à±à°•à±†à°Ÿà± à°§à°°","Water need":"à°¨à±€à°Ÿà°¿ à°…à°µà°¸à°°à°‚",High:"à°…à°§à°¿à°•",Medium:"à°®à°§à±à°¯à°¸à±à°¥",Low:"à°¤à°•à±à°•à±à°µ"},
 "bn-IN":{Wheat:"à¦—à¦®",Chickpea:"à¦›à§‹à¦²à¦¾",Mustard:"à¦¸à¦°à¦¿à¦·à¦¾","Expected yield":"à¦†à¦¨à§à¦®à¦¾à¦¨à¦¿à¦• à¦«à¦²à¦¨","Market price":"à¦¬à¦¾à¦œà¦¾à¦° à¦®à§‚à¦²à§à¦¯","Water need":"à¦œà¦² à¦ªà§à¦°à¦¯à¦¼à§‹à¦œà¦¨",High:"à¦‰à¦šà§à¦š",Medium:"à¦®à¦¾à¦à¦¾à¦°à¦¿",Low:"à¦•à¦®"},
 "kn-IN":{Wheat:"à²—à³‹à²§à²¿",Chickpea:"à²•à²¡à²²à³†",Mustard:"à²¸à²¾à²¸à²¿à²µà³†","Expected yield":"à²…à²‚à²¦à²¾à²œà³ à²‰à²¤à³à²ªà²¾à²¦à²¨à³†","Market price":"à²®à²¾à²°à³à²•à²Ÿà³à²Ÿà³† à²¬à³†à²²à³†","Water need":"à²¨à³€à²°à²¿à²¨ à²…à²µà²¶à³à²¯à²•à²¤à³†",High:"à²¹à³†à²šà³à²šà³",Medium:"à²®à²§à³à²¯à²®",Low:"à²•à²¡à²¿à²®à³†"},
 "ml-IN":{Wheat:"à´—àµ‹à´¤à´®àµà´ªàµ",Chickpea:"à´•à´Ÿà´²",Mustard:"à´•à´Ÿàµà´•àµ","Expected yield":"à´ªàµà´°à´¤àµ€à´•àµà´·à´¿à´•àµà´•àµà´¨àµà´¨ à´µà´¿à´³à´µàµ","Market price":"à´šà´¨àµà´¤ à´µà´¿à´²","Water need":"à´µàµ†à´³àµà´³à´¤àµà´¤à´¿à´¨àµà´±àµ† à´†à´µà´¶àµà´¯à´‚",High:"à´‰à´¯à´°à´‚",Medium:"à´‡à´Ÿà´¤àµà´¤à´°à´‚",Low:"à´•àµà´±à´µàµ"},
 "pa-IN":{Wheat:"à¨—à©‡à¨‚à¨¹à©‚",Chickpea:"à¨šà¨¨à¨¾",Mustard:"à¨¸à¨°à©‹à¨‚","Expected yield":"à¨‰à¨ªà¨œ","Market price":"à¨¬à¨¾à©›à¨¾à¨° à¨•à©€à¨®à¨¤","Water need":"à¨ªà¨¾à¨£à©€ à¨¦à©€ à¨²à©‹à©œ",High:"à¨µà©±à¨§",Medium:"à¨¦à¨°à¨®à¨¿à¨†à¨¨à¨¾",Low:"à¨˜à©±à¨Ÿ"}
};

function renderResults(crops){
 const lang=document.getElementById("language").value;
 const t=TRANSLATIONS[lang]||{};
 resultsEl.innerHTML="";
 crops.forEach(crop=>{
   const name=t[crop.name]||crop.name;
   const yieldLabel=t["Expected yield"]||"Expected yield";
   const priceLabel=t["Market price"]||"Market price";
   const waterLabel=t["Water need"]||"Water need";
   const waterValue=t[crop.water]||crop.water;
   resultsEl.innerHTML+=`
   <div class="card">
     <h2>${name}</h2>
     <p><b>${yieldLabel}:</b> ${crop.yield}</p>
     <p><b>${priceLabel}:</b> ${crop.price}</p>
     <p><b>${waterLabel}:</b> ${waterValue}</p>
   </div>`;
 });
}
renderResults(DUMMY_CROPS);

// ğŸ™ Voice recognition for specific fields
function startListening(fieldId){
 const SR=window.SpeechRecognition||window.webkitSpeechRecognition;
 if(!SR){alert("Speech recognition not supported");return;}
 const rec=new SR();
 const lang=document.getElementById("language").value;
 rec.lang=lang; rec.interimResults=false; rec.maxAlternatives=1;
 statusEl.textContent=`ğŸ¤ Listening for ${fieldId}...`;
 rec.onresult=(e)=>{
   document.getElementById(fieldId).value=e.results[0][0].transcript;
   statusEl.textContent=`âœ… Filled ${fieldId}: ${e.results[0][0].transcript}`;
 };
 rec.onspeechend=()=>rec.stop();
 rec.onerror=(e)=>{alert("Error: "+e.error);statusEl.textContent="";};
 rec.start();
}

// ğŸ“ GPS location detection
gpsBtn.addEventListener("click",()=>{
 if(navigator.geolocation){
   statusEl.textContent="ğŸ“¡ Detecting location...";
   navigator.geolocation.getCurrentPosition(async (pos)=>{
     const lat=pos.coords.latitude.toFixed(4);
     const lon=pos.coords.longitude.toFixed(4);
     try{
       const res=await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${lat}&lon=${lon}&format=json`);
       const data=await res.json();
       const address=data.address.city||data.address.town||data.address.village||data.display_name;
       document.getElementById("location").value=`${address} (${lat}, ${lon})`;
       statusEl.textContent=`âœ… Location detected: ${address}`;
     }catch(err){
       document.getElementById("location").value=`${lat}, ${lon}`;
       statusEl.textContent="âš ï¸ Coordinates only (API error)";
     }
   },(err)=>{statusEl.textContent="âŒ Location error: "+err.message;});
 }else{
   alert("Geolocation not supported by browser.");
 }
});

document.getElementById("year").textContent=new Date().getFullYear();
</script>
</body>
</html>